 CREATE DATABASE IF NOT EXISTS hospital;
USE hospital;

-- Crear tabla DEPT
CREATE TABLE IF NOT EXISTS DEPT (
    DEPT_NO INT NOT NULL,
    DNOMBRE VARCHAR(40),
    LOC VARCHAR(50),
    PRIMARY KEY (DEPT_NO)
);

-- Crear tabla EMP
CREATE TABLE IF NOT EXISTS EMP (
    EMP_NO INT NOT NULL,
    APELLIDO VARCHAR(40),
    OFICIO VARCHAR(40),
    DIR INT,
    FECHA_ALT DATE,
    SALARIO INT,
    COMISION INT,
    DEPT_NO INT,
    PRIMARY KEY (EMP_NO),
    FOREIGN KEY (DEPT_NO) REFERENCES DEPT(DEPT_NO)
);

-- Crear tabla HOSPITAL
CREATE TABLE IF NOT EXISTS hospital (
    HOSPITAL_COD INT NOT NULL,
    NOMBRE VARCHAR(40),
    DIRECCION VARCHAR(50),
    TELEFONO VARCHAR(9),
    NUM_CAMA INT,
    PRIMARY KEY (HOSPITAL_COD)
);

-- Crear tabla SALA
CREATE TABLE IF NOT EXISTS sala (
    HOSPITAL_COD INT NOT NULL,
    SALA_COD INT NOT NULL,
    NOMBRE VARCHAR(40),
    NUM_CAMA INT,
    PRIMARY KEY (HOSPITAL_COD, SALA_COD),
    FOREIGN KEY (HOSPITAL_COD) REFERENCES hospital(HOSPITAL_COD)
);

-- Crear tabla DOCTOR
CREATE TABLE IF NOT EXISTS doctor (
    HOSPITAL_COD INT,
    DOCTOR_NO INT NOT NULL,
    APELLIDO VARCHAR(50),
    ESPECIALIDAD VARCHAR(40),
    SALARIO INT,
    PRIMARY KEY (DOCTOR_NO),
    FOREIGN KEY (HOSPITAL_COD) REFERENCES hospital(HOSPITAL_COD)
);

-- Crear tabla PLANTILLA
CREATE TABLE IF NOT EXISTS plantilla (
    HOSPITAL_COD INT,
    SALA_COD INT,
    EMPLEADO_NO INT NOT NULL,
    APELLIDO VARCHAR(40),
    FUNCION VARCHAR(30),
    TURNO VARCHAR(1),
    SALARIO INT,
    PRIMARY KEY (EMPLEADO_NO),
    FOREIGN KEY (HOSPITAL_COD) REFERENCES hospital(HOSPITAL_COD),
    FOREIGN KEY (HOSPITAL_COD, SALA_COD) REFERENCES sala(HOSPITAL_COD, SALA_COD)
);

-- Crear tabla ENFERMO
CREATE TABLE IF NOT EXISTS ENFERMO (
    INSCRIPCION INT NOT NULL,
    APELLIDO VARCHAR(40),
    DIRECCION VARCHAR(50),
    FECHA_NAC DATE,
    SEXO CHAR(1),
    NSS INT,
    PRIMARY KEY (INSCRIPCION)
);

-- Crear tabla OCUPACION
CREATE TABLE IF NOT EXISTS OCUPACION (
    INSCRIPCION INT NOT NULL,
    HOSPITAL_COD INT NOT NULL,
    SALA_COD INT NOT NULL,
    CAMA INT,
    PRIMARY KEY (INSCRIPCION, HOSPITAL_COD, SALA_COD),
    FOREIGN KEY (INSCRIPCION) REFERENCES ENFERMO(INSCRIPCION),
    FOREIGN KEY (HOSPITAL_COD) REFERENCES hospital(HOSPITAL_COD),
    FOREIGN KEY (HOSPITAL_COD, SALA_COD) REFERENCES sala(HOSPITAL_COD, SALA_COD)
);

-- Inserciones en la tabla DEPT
INSERT INTO dept VALUES (10, 'CONTABILIDAD', 'SEVILLA');
INSERT INTO dept VALUES (20, 'INVESTIGACIÓN', 'MADRID');
INSERT INTO dept VALUES (30, 'VENTAS', 'BARCELONA');
INSERT INTO dept VALUES (40, 'PRODUCCIÓN', 'BILBAO');

-- Inserciones en la tabla EMP
INSERT INTO emp VALUES (7839, 'rey', 'PRESIDENTE', NULL, '1995-11-17', 650000, NULL, 10);
INSERT INTO emp VALUES (7698, 'negro', 'DIRECTOR', 7839, '1995-05-01', 370500, 0, 30);
INSERT INTO emp VALUES (7566, 'jimenez', 'DIRECTOR', 7839, '1995-04-02', 386750, 0, 20);
INSERT INTO emp VALUES (7782, 'cerezo', 'DIRECTOR', 7839, '1995-06-09', 318500, 0, 10);
INSERT INTO emp VALUES (7499, 'arroyo', 'VENDEDOR', 7698, '1994-02-20', 208000, 39000, 30);
INSERT INTO emp VALUES (7521, 'sala', 'VENDEDOR', 7698, '1995-02-22', 162500, 65000, 30);
INSERT INTO emp VALUES (7654, 'martin', 'VENDEDOR', 7698, '1955-07-29', 162500, 182000, 30);
INSERT INTO emp VALUES (7844, 'tovar', 'VENDEDOR', 7698, '1995-07-08', 195000, 0, 30);
INSERT INTO emp VALUES (7900, 'jimeno', 'EMPLEADO', 7698, '1995-12-03', 123500, 0, 30);
INSERT INTO emp VALUES (7902, 'fernandez', 'ANALISTA', 7566, '1995-12-11', 390000, 0, 20);
INSERT INTO emp VALUES (7788, 'gil', 'ANALISTA', 7566, '1995-11-09', 390000, 0, 20);
INSERT INTO emp VALUES (7369, 'sanchez', 'EMPLEADO', 7902, '1994-12-17', 104000, 0, 20);
INSERT INTO emp VALUES (7876, 'alonso', 'EMPLEADO', 7788, '1995-07-23', 143000, 0, 20);
INSERT INTO emp VALUES (7934, 'muñoz', 'EMPLEADO', 7782, '1996-01-23', 169000, 0, 10);

-- Inserciones en la tabla HOSPITAL
INSERT INTO hospital VALUES (19, 'provincial', 'o donell 50', '9644264', 502);
INSERT INTO hospital VALUES (18, 'general', 'Atocha s/n', '5953111', 987);
INSERT INTO hospital VALUES (22, 'la paz', 'castellana 1000', '9235411', 412);
INSERT INTO hospital VALUES (45, 'san carlos', 'ciudad universitaria', '5971500', 845);
INSERT INTO hospital VALUES (17, 'ruber', 'juan bravo 49', '914027100', 217);

-- Inserciones en la tabla SALA
INSERT INTO sala VALUES (19, 3, 'cuidados intensivos', 21);
INSERT INTO sala VALUES (19, 6, 'psiquiatria', 67);
INSERT INTO sala VALUES (18, 3, 'cuidados intensivos', 10);
INSERT INTO sala VALUES (18, 4, 'cardiologia', 53);
INSERT INTO sala VALUES (22, 1, 'recuperacion', 10);
INSERT INTO sala VALUES (22, 6, 'psiquiatria', 118);
INSERT INTO sala VALUES (22, 2, 'maternidad', 34);
INSERT INTO sala VALUES (45, 4, 'cardiologia', 55);
INSERT INTO sala VALUES (45, 1, 'recuperacion', 17);
INSERT INTO sala VALUES (45, 2, 'maternidad', 24);
INSERT INTO sala VALUES (17, 2, 'maternidad', 19);
INSERT INTO sala VALUES (17, 6, 'psiquiatria', 20);
INSERT INTO sala VALUES (17, 3, 'cuidados intensivos', 21);

-- Inserciones en la tabla PLANTILLA
INSERT INTO plantilla VALUES (19, 6, 3754, 'diaz b.', 'ENFERMERO', 'T', 226200);
INSERT INTO plantilla VALUES (19, 6, 3106, 'hernandez j.', 'ENFERMERO', 'T', 275500);
INSERT INTO plantilla VALUES (18, 4, 6357, 'karplus w.', 'INTERINO', 'T', 337900);
INSERT INTO plantilla VALUES (22, 6, 1009, 'higueras d.', 'ENFERMERA', 'T', 200500);
INSERT INTO plantilla VALUES (22, 6, 8422, 'bocina g.', 'ENFERMERO', 'M', 163800);
INSERT INTO plantilla VALUES (22, 2, 9901, 'nuñez c.', 'INTERINO', 'M', 221000);
INSERT INTO plantilla VALUES (22, 1, 6065, 'rivera g.', 'ENFERMERA', 'N', 162600);
INSERT INTO plantilla VALUES (22, 1, 7379, 'carlos r.', 'ENFERMERA', 'T', 211900);
INSERT INTO plantilla VALUES (45, 4, 1280, 'amigo r.', 'INTERINO', 'N', 221000);
INSERT INTO plantilla VALUES (45, 1, 8526, 'frank h.', 'ENFERMERO', 'T', 252200);
INSERT INTO plantilla VALUES (17, 2, 8519, 'chuko c.', 'ENFERMERO', 'T', 252200);
INSERT INTO plantilla VALUES (17, 6, 8520, 'palomo c.', 'INTERINO', 'M', 219210);
INSERT INTO plantilla VALUES (17, 6, 8521, 'cortes v.', 'ENFERMERA', 'N', 221200);

-- Inserciones en la tabla DOCTOR
INSERT INTO doctor VALUES (19, 435, 'Lopez A.', 'Cardiologia', 350000);
INSERT INTO doctor VALUES (18, 585, 'Miller G.', 'Ginecologia', 250000);
INSERT INTO doctor VALUES (18, 982, 'Cajal R', 'Cardiologia', 290000);
INSERT INTO doctor VALUES (22, 453, 'Galo C.', 'Pediatria', 250000);
INSERT INTO doctor VALUES (22, 398, 'Best K.', 'Urologia', 150000);
INSERT INTO doctor VALUES (22, 386, 'Cabeza D.', 'Psiquiatria', 125000);
INSERT INTO doctor VALUES (45, 607, 'Niqo P.', 'Pediatria', 240000);
INSERT INTO doctor VALUES (45, 522, 'Adams C.', 'Neurologia', 450000);
INSERT INTO doctor VALUES (17, 521, 'Nino P.', 'Neurologia', 390000);
INSERT INTO doctor VALUES (17, 120, 'Curro F.', 'Urologia', 250000);

-- Inserciones en la tabla ENFERMO
INSERT INTO ENFERMO VALUES (10995, 'Languia M.', 'Goya 20', '1956-05-16', 'M', 280862482);
INSERT INTO ENFERMO VALUES (18004, 'Serrano V.', 'Alcala 12', '1960-05-21', 'F', 284991452);
INSERT INTO ENFERMO VALUES (14024, 'Fernandez N.', 'Recoletos', '1967-07-23', 'F', 321790059);
INSERT INTO ENFERMO VALUES (36658, 'Domin S.', 'Mayor 71', '1942-01-01', 'M', 160657471);
INSERT INTO ENFERMO VALUES (38702, 'Neal R.', 'Orense 21', '1940-07-18', 'F', 380010217);
INSERT INTO ENFERMO VALUES (39217, 'Cervantes M.', 'Perón 8', '1952-02-19', 'M', 440294390);
INSERT INTO ENFERMO VALUES (59076, 'Miller G.', 'Lopez de Hoyos 2', '1945-10-10', 'F', 311969044);
INSERT INTO ENFERMO VALUES (63827, 'Ruiz P.', 'Esquerdo 103', '1980-12-26', 'M', 200973253);
INSERT INTO ENFERMO VALUES (64882, 'Fraser A.', 'Soto 3', '1980-08-19', 'F', 285201776);
INSERT INTO ENFERMO VALUES (74835, 'Benitez E.', 'Argentina 5', '1956-10-05', 'M', 154811767);

-- Inserciones en la tabla OCUPACION
INSERT INTO OCUPACION VALUES (10995, 19, 3, 1);
INSERT INTO OCUPACION VALUES (18004, 19, 3, 2);
INSERT INTO OCUPACION VALUES (14024, 19, 3, 3);
INSERT INTO OCUPACION VALUES (36658, 18, 4, 1);
INSERT INTO OCUPACION VALUES (38702, 18, 4, 2);
INSERT INTO OCUPACION VALUES (39217, 22, 6, 1);
INSERT INTO OCUPACION VALUES (59076, 22, 6, 2);
INSERT INTO OCUPACION VALUES (63827, 22, 6, 3);
INSERT INTO OCUPACION VALUES (64882, 22, 2, 1);